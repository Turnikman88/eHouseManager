@model IEnumerable<UserApartmentViewModel>
@section Styles{
    <link rel="stylesheet" href="~/css/form.css">

}
<div class="render-body" style="padding-left: 100px; padding-right: 100px;">
    <div class="container-fluid">
        <div class="row">
            <div class="col flex-sm-wrap-reverse align-content-center" style="margin-right: 80px;">
                <img src="@Constants.DOMAIN_NAME/images/apartment-user.png" alt="DeliverIT login image" style="width:100%; height: auto; min-width: 400px;" />
            </div>
            <div class="col">
                @using (Html.BeginForm("UserInfo", "Event", FormMethod.Get, new { style = "padding:15px" }))
                {
                    <button style="height: 37px" margin-left="15px" class="btn btn-outline-primary btn-sm">Events</button>
                }
                <div id="view-all">
                    <div class="col" style="width:auto; height:400px; overflow:auto; padding: 15px;">
                        <table class="table-custom">
                            <tr>
                                <th scope="col">Apartment №</th>
                                <th scope="col">Address</th>
                                <th scope="col">Area</th>
                                <th scope="col">Taxes Paid?</th>
                                <th scope="col">Copy</th>
                            </tr>
                            @if (Model.Count() == 0)
                            {
                                <tr>
                                    <th scope="col">No Apartments were found!</th>
                                </tr>
                            }
                            @foreach (var item in Model)
                            {
                                <tr>
                                    <td scope="col">@item.ApartmentNumber</td>
                                    <td scope="col">@item.Address</td>
                                    <td scope="col">@item.Area</td>
                                    <td scope="col">@(item.AreTaxesPaid == true ? "Yes" : "No")</td>
                                    <td scope="col"><button @(!item.AreTaxesPaid ? "disabled" : "") class="btn btn-outline-primary btn-sm" onclick="window.location='@Url.Action("Export", "Apartment", new { id = item.TaxPayments?.OrderByDescending(x => x.Id).LastOrDefault()?.Id})'">Download</button></td>
                                </tr>
                            }
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
